---


---

<hr>
<hr>
<hr>
<hr>
<h2 id="uc1-идентификация-статуса-пользователя">UC1 Идентификация статуса пользователя</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Действующие лица</strong></td>
<td>Пользователь, Система</td>
</tr>
<tr>
<td><strong>Цели</strong></td>
<td><li>Пользователь: определить свой текущий статус для системы;</li><li>Система: предложить пользователю в зависимости от его статуса выполнить дальнейшие шаги перед началом работы с программой;</li></td>
</tr>
<tr>
<td><strong>Предыстория</strong></td>
<td>Пользователь запустил программу.<br>  Система выдает пользователю сообщение <em><q>Please enter R if you are registered user, U if you are unregistered user</q></em></td>
</tr>
<tr>
<td><strong>Успешный сценарий</strong></td>
<td>1. Пользователь вводит один из символов U или R;<br> 2. Система проверяет введённый символ;<br>3.1. Если введён символ U, система выдаёт сообщение: <em><q>Would you like to register? Enter Y - yes or N - no </q>.</em><br><ul>3.1.1. Пользователь вводит один из символов: Y или N;<br>3.1.2. Система проверяет введённый символ<br><ul>3.1.3.1. Если введён символ Y, то см. Результат 3.1.3.1<br>3.1.3.2. Если введён символ N, то см. Результат 3.1.3.2</ul></ul><br>3.2. Если введён символ R, то см. Результат 3.2;</td>
</tr>
<tr>
<td><strong>Результат</strong></td>
<td>3.1.3.1. Переход на UC2<br> 3.1.3.2. Система выдаёт пользователю сообщение: <em><q>See you next time!</q></em><br>Выход из приложения<br>3.2. Переход на UC3</td>
</tr>
<tr>
<td><strong>Расширения</strong></td>
<td>2а. Пользователь ввёл любые отличные от U/u или R/r символы.<br> Результат: отказ в переходе к дальнейшим шагам.<br>Система выдает сообщение <em><q>You entered a wrong symbol. Please enter R if you are registered user, U if you are unregistered user</q></em><br>Переход на шаг 1.<br><br>3.1.2а. Пользователь ввёл любые отличные от Y/y или N/n символы.<br>Результат: отказ в переходе к дальнейшим шагам.<br>Система выдает сообщение: <em><q>You entered a wrong symbol. Please choose Y for yes, N for no to continue</q></em><br>Переход на шаг 3.1.1.<br></td>
</tr>
</tbody>
</table><h2 id="uc2-регистрация-нового-пользователя">UC2 Регистрация нового пользователя</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Действующие лица</strong></td>
<td>Пользователь, Система</td>
</tr>
<tr>
<td><strong>Цели</strong></td>
<td><li>Пользователь: зарегистрироваться в системе и начать работать;</li><li>Система: создать пользователя в БД;</li></td>
</tr>
<tr>
<td><strong>Предыстория</strong></td>
<td>Пользователь ввёл U, а затем Y</td>
</tr>
<tr>
<td><strong>Успешный сценарий</strong></td>
<td>1. Система предлагает ввести логин;<br>  2. Пользователь вводит логин;<br>  3. Система проверяет введённый логин на уникальность;<br>  4. Система предлагает ввести пароль;<br>  5. Пользователь вводит пароль;<br>  6. Система предлагает повторно ввести пароль;<br>  7. Пользователь повторно вводит пароль;<br>  8. Система проверяет, что введённый пользователем пароль на шаге 5 совпадает с паролем, введённым на шаге 7;<br>  9. Система предлагает выбрать лицензию;<br>  10. Система выдает пользователю сообщение об успешной регистрации:<em><q>You have been successfully registered</q></em></td>
</tr>
<tr>
<td><strong>Результат</strong></td>
<td>Пользователь успешно зарегистрирован и может работать с программой. В БД в таблицу "users" добавлена строка с заполненными полями: <li>user_id</li><li>login</li><li>hash</li><li>salt</li><li>license_id</li><li>registration_date</li><li>last_log_in</li><li>license_expiration_date</li></td>
</tr>
<tr>
<td><strong>Расширения</strong></td>
<td>3а. Пользователь вводит логин, который уже существует в БД<br> Результат: отказ в авторизации.<br>Система выдает сообщение <em><q>Please choose another login</q></em><br>Переход на шаг 2.</td>
</tr>
</tbody>
</table><h2 id="uc3-авторизация-пользователя">UC3 Авторизация пользователя</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Действующие лица</strong></td>
<td>Пользователь, Система</td>
</tr>
<tr>
<td><strong>Цели</strong></td>
<td><li>Пользователь: авторизоваться в системе и начать работать;</li><li>Система: идентифицировать пользователя и его лицензию</li></td>
</tr>
<tr>
<td><strong>Предыстория</strong></td>
<td>Пользователь ввёл R</td>
</tr>
<tr>
<td><strong>Успешный сценарий</strong></td>
<td>1. Система предлагает ввести логин;<br>  2. Пользователь вводит логин;<br>  3. Система проверяет введённый логин на наличие в БД;<br>  4. Система предлагает ввести пароль;<br>  5. Пользователь вводит пароль;<br>  6. Система проверяет введённый пароль на соответствие логину;<br>  7. Система проверяет, что лицензия пользователя не истекла;<br>  8. Система выдает пользователю сообщение по поводу успешной авторизации <em><q>Success entry!</q></em></td>
</tr>
<tr>
<td><strong>Результат</strong></td>
<td>Пользователь успешно авторизован и может работать с программой. <br>В БД в таблице "users" обновлено поле для пользователя: <li>last_log_in</li></td>
</tr>
<tr>
<td><strong>Расширения</strong></td>
<td>3a. Пользователь с введенными логином не найден в БД<br> Результат: отказ в авторизации.<br>Система выдает сообщение <em><q>This login does not exist! Please try again</q></em><br>Переход на шаг 4.<br><br>6а. Введённый пароль не соответствует логину<br> Результат: отказ в авторизации.<br>Система выдает сообщение <em><q>↯↯ Wrong password! Please try again</q></em><br>Переход на шаг 7.<br><br>9а. Лицензия пользователя истекла<br> Результат: отказ в авторизации.<br>Система выдает сообщение <br><em><q>↯↯ Sorry, your license is over!<br> Would you like to continue using the app?<br>Enter Y - yes or N - no</q></em><br>Переход на UC4.</td>
</tr>
</tbody>
</table><h2 id="uc4-продление-лицензии">UC4 Продление лицензии</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Действующие лица</strong></td>
<td>Пользователь, Система</td>
</tr>
<tr>
<td><strong>Цели</strong></td>
<td><li>Пользователь: продлить лицензию для дальнейшего использования приложения;</li><li>Система: обновить в БД данные о выбранной лицензии и сроке действия для пользователя</li></td>
</tr>
<tr>
<td><strong>Предыстория</strong></td>
<td>UC3 шаг 9а</td>
</tr>
<tr>
<td><strong>Успешный сценарий</strong></td>
<td>1. Пользователь вводит один из символов: Y или N;<br> 2. Система проверяет введённый символ;<br>3.1. Если пользователь ввёл  символ Y, система выдаёт сообщение: <em><q>Please choose license: 1 - for weeks, 2 - for months</q></em><br><ul>3.1.1. Пользователь вводит id выбранной лицензии<br>3.1.2. Система проверяет в БД наличие лицензии с соответствующим id<br> </ul>см. Результат 3.1.<br><br>3.2. Если пользователь ввёл  символ N, см. Результат 3.2.</td></tr>
<tr>
<td><strong>Результат</strong></td>
<td>3.1. В БД в таблице "users" обновляются поля: <li>license_id </li><li>license_expiration_date<br><br>3.2. Система выдаёт сообщение<em><q> See you next time!</q></em><br> Программа заканчивает работу.
</li></td>
</tr>
<tr>
<td><strong>Расширения</strong></td>
<td>2а. Пользователь ввёл любые отличные от Y/y или N/n символы<br> Результат: отказ в переходе к дальнейшим шагам.<br> Система выдаёт сообщение: <em><q>You entered a wrong symbol. Please choose Y for yes, N for no to continue</q></em><br> Переход на шаг 1.<br><br>3.1.2а. Пользователь ввёл несуществующий в БД id лицензии<br> Результат: система выдаёт сообщение <em><q>License with ID 5 doesn't exist. Please try again</q></em><br> Переход на шаг 3.1.1.<br><br>3.1.2b. Пользователь ввёл не только цифры <br> Результат: отказ в переходе к дальнейшим шагам.<br> Система выдаёт сообщение: <em><q>Please use numbers only</q></em><br> Переход на шаг 3.1.1.</td>
</tr>
</tbody>
</table>
<h2 id="uc-сохранение-истории">
UC?? Сохранение истории</h2>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Действующие лица</strong></td>
<td>Пользователь, Система</td>
</tr>
<tr>
<td><strong>Цели</strong></td>
<td><li>Пользователь: получить историю изменений файла;</li><li>Система: сохранение данных об изменениях в БД</li></td>
</tr>
<tr>
<td><strong>Предыстория</strong></td>
<td>Пользователь запустил программу и открыл файл</td>
</tr>
<tr>
<td><strong>Успешный сценарий</strong></td>
<td>Пользователь создаёт файл;<br> 2. Пользователь редактирует файл;<br>3. Пользователь сохраняет файл;<br>4. Система делает запись об изменении в базу данных;<br>5. Пользователь загружает предыдущую версию файла<br>6. Система получает данные об изменении;</td>
</tr>
<tr>
<td><strong>Результат</strong></td>
<td>Пользователь получает необходимую версию файла</td>
</tr>
</tbody></table>

